@use 'sass:math';

@mixin content-cube($size) {
    .perspective {
        perspective: $size * 2;
        perspective-origin: top;
    }

    .content-cube {
        width: $size;
        height: $size;

        &.webkit {
            /* 
            fixes https://bugs.webkit.org/show_bug.cgi?id=88587
            TODO: remove if that bug is ever fixed
            */
            translate: 0 0 (-(math.div($size, 2)));
        }

        .face {
            transform-origin: center center (-(math.div($size, 2)));
        }
    }
}

@mixin elasticNav() {
    nav > ul.full-width,
    .social.social.full-width {
        @for $i from 1 through 10 {
            li:first-child:nth-last-child(#{$i}),
            li:first-child:nth-last-child(#{$i}) ~ li {
                width: math.div(100%, $i);
            }
        }
    }

    .content-cube > .face > .face-content {
        padding: 8px;
    }
}

@media only screen and (max-width: 806px) {
    @include elasticNav();
}

@media only screen and (max-width: 249px) {
    @include content-cube(200px);
}

@media only screen and (min-width: 250px) and (min-height: 350px) {
    @include content-cube(250px);
}

// Larger than mini mobile
@media only screen and (min-width: 300px) and (min-height: 400px) {
    @include content-cube(300px);
}

@media only screen and (min-width: 350px) and (min-height: 450px) {
    @include content-cube(350px);
}

// Larger than mobile
@media only screen and (min-width: 400px) and (min-height: 500px) {
    @include content-cube(400px);
}

@media only screen and (min-width: 450px) and (min-height: 550px) {
    @include content-cube(450px);
}

@media only screen and (min-width: 500px) and (min-height: 600px) {
    @include content-cube(500px);
}

// Larger than phablet (also point when grid becomes active)
@media only screen and (min-width: 550px) and (min-height: 650px) {
    @include content-cube(550px);
}

@media only screen and (min-width: 600px) and (min-height: 700px) {
    @include content-cube(600px);
}

@media only screen and (min-width: 650px) and (min-height: 750px) {
    @include content-cube(650px);
}

@media only screen and (min-width: 700px) and (min-height: 800px) {
    @include content-cube(700px);
}

// Larger than tablet
@media only screen and (min-width: 750px) and (min-height: 850px) {
    @include content-cube(700px);
}

@media only screen and (min-width: 800px) and (min-height: 900px) {
    @include content-cube(750px);
}

@media only screen and (min-width: 900px) and (min-height: 1000px) {
    @include content-cube(850px);
}

// Larger than desktop
@media only screen and (min-width: 1000px) and (min-height: 1100px) {
    @include content-cube(900px);
}

@media only screen and (min-width: 1100px) and (min-height: 1200px) {
    @include content-cube(1000px);
}
